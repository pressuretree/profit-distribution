webpackJsonp([1],{0:function(e,t){},1:function(e,t){},"1Hn/":function(e,t){},"1vmS":function(e,t){},2:function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"static/img/logo.f37bd79.png"},DBc1:function(e,t){},DM1p:function(e,t){},MPXo:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},n,!1,function(e){a("DBc1")},null,null).exports,l=a("/ocq"),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},r,!1,function(e){a("Ugm9")},"data-v-694cd902",null).exports;var s={data:function(){return{}},methods:{handleLogin:function(){console.log("navigate to main page!!!"),this.$router.push("/help")}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Login page!!!!")]),this._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:this.handleLogin}},[this._v("登录")])],1)},staticRenderFns:[]},u=a("VU/8")(s,c,!1,null,null,null).exports,d=a("T+nX"),m=a.n(d),p=a("7Otq"),f=a.n(p),h={data:function(){return{sysName:"归户分润管理系统",sysUserName:"张三",sysUser:m.a,sysLogo:f.a,collapsed:!1}},methods:{logout:function(){},handleClose:function(){},handleOpen:function(){return{}},menuShow:function(){this.collapsed=!this.collapsed}},mounted:function(){console.log("路由：",this.$router.options.routes)}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"100vh"}},[a("el-header",{attrs:{height:"60px"}},[e.collapsed?e._e():a("el-col",{class:e.collapsed?"menu-collapsed":"logo",attrs:{span:4}},[e._v("\n\t\t\t"+e._s(e.collapsed?"":e.sysName)+"\n\t\t")]),e._v(" "),e.collapsed?a("el-col",{attrs:{span:1}},[a("div",{staticClass:"logoimage"},[a("img",{staticClass:"img",attrs:{src:this.sysLogo}})])]):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"tools",on:{click:function(t){return t.preventDefault(),e.menuShow(t)}}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"el-icon-caret-left",attrs:{title:"收缩菜单"}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"el-icon-caret-right",attrs:{title:"展开菜单"}})])]),e._v(" "),a("el-col",{staticClass:"userinfo",attrs:{span:6}},[a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"header"},[a("img",{staticClass:"img",attrs:{src:this.sysUser}}),e._v(" "+e._s(e.sysUserName))]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("我的消息")]),e._v(" "),a("el-dropdown-item",[e._v("设置")]),e._v(" "),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1),e._v(" "),a("el-container",[a("el-aside",{attrs:{width:e.collapsed?"64px":"230px"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.path,"background-color":"#545c64","text-color":"#73E7EB",router:"","unique-opened":"",collapse:e.collapsed,"active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[e._l(e.$router.options.routes,function(t,i){return[e._l(t.children,function(t,i){return[t.meta.leaf?t.meta.leaf?a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"item.menuShow"}],class:e.$route.path==t.path?"is-active":"",attrs:{index:t.path,route:t.path}},[a("i",{class:t.iconCls}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e():a("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"item.menuShow"}],attrs:{index:i+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return t.menuShow?a("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active":"",attrs:{index:t.path,route:t.path}},[a("i",{class:t.iconCls}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()})],2)]})]})],2)],1),e._v(" "),a("el-container",[a("el-main",[a("transition",[a("router-view")],1)],1)],1)],1),e._v(" "),a("el-footer",{staticStyle:{color:"#CCC"},attrs:{height:"60px"}},[e._v("\n\t\tCopyright © 招商银行兰州分行信息技术部\n\t")])],1)},staticRenderFns:[]};var v=a("VU/8")(h,g,!1,function(e){a("DM1p")},"data-v-f9cce968",null).exports,b=a("woOf"),_=a.n(b),y=a("mtWM"),F=a.n(y),w=function(e){return F.a.get("/user/listpage",{params:e})},x=function(e){return F.a.get("/user/remove",{params:e})},S=function(e){return F.a.get("/user/batchremove",{params:e})},k=function(e){return F.a.get("/user/edit",{params:e})},$=function(e){return F.a.get("/user/add",{params:e})},C=function(e){return F.a.get("/cust/listpage",{params:e})},R=function(e){return F.a.get("/cust/edit",{params:e})},L=function(e){return F.a.get("/profitshareresult/list",{params:e})},P=function(e){return F.a.post("/profitshareresult/edit",e)},V={data:function(){return{filters:{name:""},users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},editForm:{id:"",name:"",role:"",team:""},addFormVisible:!1,addLoading:!1,addFormRules:{id:[{required:!0,message:"请输入一事通ID",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}],team:[{required:!0,message:"请选择所属团队",trigger:"blur"}]},addForm:{id:"",name:"",role:"",team:""},Roles:[{id:1,value:"系统管理员"},{id:2,value:"批发条线领导"},{id:3,value:"团队负责人"},{id:4,value:"客户经理"}],Teams:[{id:1,value:"机构客户一部"},{id:2,value:"机构客户二部"},{id:3,value:"机构客户三部"},{id:4,value:"机构客户四部"},{id:5,value:"机构客户五部"},{id:6,value:"机构客户六部"},{id:7,value:"机构客户七部"}]}},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getUsers()},getUsers:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,w(t).then(function(t){e.total=t.data.total,e.users=t.data.users,e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id};x(e).then(function(e){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.getUsers()})}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={id:"",name:"",role:"",team:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=_()({},e.editForm);t.birth=t.birth&&""!=t.birth?util.formatDate.format(new Date(t.birth),"yyyy-MM-dd"):"",k(t).then(function(t){e.editLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getUsers()})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=_()({},e.addForm);$(t).then(function(t){e.addLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getUsers()})})})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0,S({ids:t}).then(function(t){e.listLoading=!1,e.$message({message:"删除成功",type:"success"}),e.getUsers()})}).catch(function(){})}},mounted:function(){this.getUsers()}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","text-align":"left"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"一事通ID"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"角色"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"所属团队"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getUsers}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){}}},[e._v("查询全部")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.users,stripe:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"一事通ID",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"role",label:"角色",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.$index,t.row)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchRemove}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"一事通ID",prop:"id"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.id,callback:function(t){e.$set(e.editForm,"id",t)},expression:"editForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.role,callback:function(t){e.$set(e.editForm,"role",t)},expression:"editForm.role"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属团队"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.team,callback:function(t){e.$set(e.editForm,"team",t)},expression:"editForm.team"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"100px",rules:e.addFormRules,size:"medium","label-position":"right"}},[a("el-form-item",{attrs:{label:"一事通ID",prop:"id"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.id,callback:function(t){e.$set(e.addForm,"id",t)},expression:"addForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"角色",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择角色",clearable:"",filterable:""},model:{value:e.addForm.role,callback:function(t){e.$set(e.addForm,"role",t)},expression:"addForm.role"}},e._l(e.Roles,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"所属团队",prop:"team"}},[a("el-select",{attrs:{placeholder:"请选择所属团队",clearable:"",filterable:""},model:{value:e.addForm.team,callback:function(t){e.$set(e.addForm,"team",t)},expression:"addForm.team"}},e._l(e.Teams,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var U=a("VU/8")(V,D,!1,function(e){a("noRn")},"data-v-50e4e7a4",null).exports,z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",[t("router-view")],1)},staticRenderFns:[]},O=a("VU/8")(null,z,!1,null,null,null).exports,I=a("lDdF"),T=a.n(I),E=a("uXZL"),q=a.n(E),A={data:function(){return{filters:{name:""},custs:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{team:[{required:!0,message:"请选择所属团队",trigger:"blur"}]},editForm:{bankid:"",bankname:"",custid:"",custname:"",custtype:"",custnetincome:0,team:""},addFormVisible:!1,addLoading:!1,addFormRules:{id:[{required:!0,message:"请输入一事通ID",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}],team:[{required:!0,message:"请选择所属团队",trigger:"blur"}]},addForm:{bankid:"",bankname:"",custid:"",custname:"",custtype:"",custnetincome:0,team:""},Roles:[{id:1,value:"系统管理员"},{id:2,value:"批发条线领导"},{id:3,value:"团队负责人"},{id:4,value:"客户经理"}],Teams:[{id:1,value:"机构客户一部"},{id:2,value:"机构客户二部"},{id:3,value:"机构客户三部"},{id:4,value:"机构客户四部"},{id:5,value:"机构客户五部"},{id:6,value:"机构客户六部"},{id:7,value:"机构客户七部"}],uploadFormVisible:!1,fileList:[]}},methods:{submitUpload:function(){console.log("this.fileList:",this.fileList),console.log("this.$refs:",this.$refs),this.$refs.upload.submit()},handleRemove:function(e,t){console.log("file",e,"fileList",t)},handlePreview:function(e){console.log("file",e)},formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getCusts()},getCusts:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,C(t).then(function(t){e.total=t.data.total,e.custs=t.data.custs,e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={bankid:t.bankid,custid:t.custid};x(e).then(function(e){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.getCusts()})}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={bankid:"",bankname:"",custid:"",custname:"",custtype:"",custnetincome:0,team:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=_()({},e.editForm);console.log("para:",t),R(t).then(function(t){e.editLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getCusts()})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=_()({},e.addForm);$(t).then(function(t){e.addLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getCusts()})})})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0,S({ids:t}).then(function(t){e.listLoading=!1,e.$message({message:"删除成功",type:"success"}),e.getCusts()})}).catch(function(){})},handleUpload:function(){this.uploadFormVisible=!0},handleUploadData:function(e,t){var a=this;console.log("file:",e,"fileList:",t),this.uploadButtonLoading=!0;var i=new FileReader;i.readAsBinaryString(e.raw),i.onload=function(e){try{var t=e.target.result;console.log("data:",t);var i=q.a.read(t,{type:"binary"});console.log("workbook:",i);var n=q.a.utils.sheet_to_json(i.Sheets.Sheet1);console.log("sheetArray:",n);for(var o=[],l=0;l<n.length;l++){var r={bankid:n[l]["开户行号"],bankname:n[l]["开户行名称"],custid:n[l]["客户号"],custname:n[l]["客户名称"],custtype:n[l]["客户类型"],custnetincome:n[l]["营业净收入"],team:"",allocated:!1,profitdistributed:!1};o.push(r)}(s=o,F.a.post("/cust/add",s)).then(function(e){console.log("resp:",e),a.uploadButtonLoading=!1,a.uploadFormVisible=!1,a.getCusts(),a.$message.success("导入成功！")})}catch(e){return a.uploadButtonLoading=!1,a.$message.warning("文件类型不正确！"),!1}var s}},teamChange:function(){this.editForm.allocated=!0}},mounted:function(){this.getCusts()}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","text-align":"left"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"客户名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"所属团队"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getCusts}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){}}},[e._v("查询全部")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:e.handleUpload}},[e._v("导入")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.custs,stripe:"","highlight-current-row":"",height:"530"},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankid",label:"开户行号",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankname",label:"开户行名称",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"custid",label:"客户号",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"custname",label:"客户名称",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"custtype",label:"客户类型",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"custnetincome",label:"营业净收入(￥)",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.allocated,expression:"!scope.row.allocated"}],attrs:{type:"primary",size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("归户")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.row.allocated,expression:"scope.row.allocated"}],attrs:{type:"success",size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.$index,t.row)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length,size:"small"},on:{click:e.batchRemove}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"归户及编辑",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"120px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"开户行号",prop:"bankid"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.bankid,callback:function(t){e.$set(e.editForm,"bankid",t)},expression:"editForm.bankid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户行名称",prop:"bankname"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.bankname,callback:function(t){e.$set(e.editForm,"bankname",t)},expression:"editForm.bankname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户号",prop:"custid"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.bankid,callback:function(t){e.$set(e.editForm,"bankid",t)},expression:"editForm.bankid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户名称",prop:"custname"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.custname,callback:function(t){e.$set(e.editForm,"custname",t)},expression:"editForm.custname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户类型"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.custtype,callback:function(t){e.$set(e.editForm,"custtype",t)},expression:"editForm.custtype"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"营业净收入(￥)"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.custnetincome,callback:function(t){e.$set(e.editForm,"custnetincome",t)},expression:"editForm.custnetincome"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"所属团队",prop:"team"}},[a("el-select",{attrs:{placeholder:"请选择所属团队",clearable:"",filterable:""},on:{change:e.teamChange},model:{value:e.editForm.team,callback:function(t){e.$set(e.editForm,"team",t)},expression:"editForm.team"}},e._l(e.Teams,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"100px",rules:e.addFormRules,size:"medium","label-position":"right"}},[a("el-form-item",{attrs:{label:"一事通ID",prop:"id"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.id,callback:function(t){e.$set(e.addForm,"id",t)},expression:"addForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"角色",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择角色",clearable:"",filterable:""},model:{value:e.addForm.role,callback:function(t){e.$set(e.addForm,"role",t)},expression:"addForm.role"}},e._l(e.Roles,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"所属团队",prop:"team"}},[a("el-select",{attrs:{placeholder:"请选择所属团队",clearable:"",filterable:""},model:{value:e.addForm.team,callback:function(t){e.$set(e.addForm,"team",t)},expression:"addForm.team"}},e._l(e.Teams,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导入客户数据",visible:e.uploadFormVisible},on:{"update:visible":function(t){e.uploadFormVisible=t}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-change":e.handleUploadData,"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传Excel文件")])],1)],1)],1)},staticRenderFns:[]};var N=a("VU/8")(A,j,!1,function(e){a("VGaS")},"data-v-918b4bd2",null).exports,B={data:function(){return{filters:{name:""},users:[],custs:[],total:0,page:1,listLoading:!1,sels:[],selusers:[],currentProfitShareCust:{},profitSharePlanSubmitDialogVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},editForm:{bankid:"",bankname:"",custid:"",custname:"",custtype:"",custnetincome:0,team:""},addFormVisible:!1,addLoading:!1,addFormRules:{id:[{required:!0,message:"请输入一事通ID",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}],team:[{required:!0,message:"请选择所属团队",trigger:"blur"}]},addForm:{bankid:"",bankname:"",custid:"",custname:"",custtype:"",custnetincome:0,team:""},Roles:[{id:1,value:"系统管理员"},{id:2,value:"批发条线领导"},{id:3,value:"团队负责人"},{id:4,value:"客户经理"}],Teams:[{id:1,value:"机构客户一部"},{id:2,value:"机构客户二部"},{id:3,value:"机构客户三部"},{id:4,value:"机构客户四部"},{id:5,value:"机构客户五部"},{id:6,value:"机构客户六部"},{id:7,value:"机构客户七部"}],uploadFormVisible:!1,totalPropotion:0,profitSharePlan:[],profitSharePlanLoading:!1}},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getCusts()},handlePropotionChange:function(e){console.log("value:",e),console.log("this.selusers:",this.selusers),this.totalPropotion=0;for(var t=0;t<this.selusers.length;t++)this.totalPropotion+=this.selusers[t].propotion;console.log("this.totalPropotion:",this.totalPropotion)},getCusts:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,C(t).then(function(t){e.total=t.data.total,e.custs=t.data.custs,e.listLoading=!1})},profitSharePlanCreate:function(e){for(var t=0;t<e.length;t++);},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={bankid:t.bankid,custid:t.custid};x(e).then(function(e){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.getCusts()})}).catch(function(){})},profitAlloc:function(e,t){if(t.allocated){this.selusers=[],this.profitSharePlanSubmitDialogVisible=!0,this.totalPropotion=0;for(var a=0;a<this.selusers.length;a++)this.totalPropotion+=this.selusers[a].propotion;this.currentProfitShareCust=t,console.log("this.currentProfitShareCust:",this.currentProfitShareCust)}else this.$message({message:"未归户，请先归户！",type:"error"})},handleAdd:function(){this.selusers=[],this.addFormVisible=!0,this.addForm={bankid:"",bankname:"",custid:"",custname:"",custtype:"",custnetincome:0,team:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=_()({},e.editForm);console.log("para:",t),R(t).then(function(t){e.editLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.profitSharePlanSubmitDialogVisible=!1,e.getCusts()})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=_()({},e.addForm);$(t).then(function(t){e.addLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getCusts()})})})},selUserchange:function(e){this.selusers=e,console.log("this.selusers:",this.selusers)},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0,S({ids:t}).then(function(t){e.listLoading=!1,e.$message({message:"删除成功",type:"success"}),e.getCusts()})}).catch(function(){})},batchSelectUser:function(){var e=this;this.$confirm("确认选中人员吗？","提示",{type:"warning"}).then(function(){for(var t=0;t<e.selusers.length;t++)e.selusers[t].propotion=1;e.$message({message:"选择成功",type:"success"}),e.addFormVisible=!1}).catch(function(){})},handleUpload:function(){this.uploadFormVisible=!0},handleUploadData:function(e){var t=e.files,a=new FileReader;a.onload=function(e){try{var t=e.target.result,a=q.a.read(t,{type:"binary"}),i=[]}catch(e){return void console.log("文件类型不正确")}var n="";for(var o in a.Sheets)a.Sheets.hasOwnProperty(o)&&(n=a.Sheets[o]["!ref"],console.log(n),i=i.concat(q.a.utils.sheet_to_json(a.Sheets[o])));console.log(i)},a.readAsBinaryString(t[0])},getUsers:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,w(t).then(function(t){e.users=t.data.users,e.listLoading=!1})},profitSharePlanSubmit:function(){var e=this;this.$confirm("确认制定的分润方案吗？","提示",{type:"warning"}).then(function(){e.profitSharePlanLoading=!0,console.log("方案确定：","this.selusers:",e.selusers),e.currentProfitShareCust.profitdistributed=!0,R(e.currentProfitShareCust).then(function(t){console.log("客户是否分润更新成功"),e.getCusts()});var t,a={cust:e.currentProfitShareCust,plan:e.selusers};console.log("para:",a),(t=a,F.a.post("/profitshareresult/add",t)).then(function(t){e.profitSharePlanLoading=!1,e.$message({message:"分润方案制定成功",type:"success"}),e.profitSharePlanSubmitDialogVisible=!1})}).catch(function(){})}},mounted:function(){this.getCusts(),this.getUsers()}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","text-align":"left"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"客户名称"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"所属团队"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getCusts}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){}}},[e._v("查询全部")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.custs,stripe:"","highlight-current-row":"",height:"530"},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankid",label:"开户行号",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"bankname",label:"开户行名称",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"custid",label:"客户号",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"custname",label:"客户名称",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"custnetincome",label:"营业净收入(￥)",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",disabled:t.row.profitdistributed,size:"small"},on:{click:function(a){e.profitAlloc(t.$index,t.row)}}},[e._v("制定分润方案")])]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchRemove}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"分润方案",visible:e.profitSharePlanSubmitDialogVisible,center:""},on:{"update:visible":function(t){e.profitSharePlanSubmitDialogVisible=t}}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleAdd}},[e._v("选择分润人员")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.selusers,stripe:"","highlight-current-row":"",height:"300"}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"一事通ID",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队"}}),e._v(" "),a("el-table-column",{attrs:{prop:"propotion",label:"分润比例(%)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{min:1,max:100,step:1,label:"分润比例",size:"mini"},on:{change:function(a){e.handlePropotionChange(t)}},model:{value:t.row.propotion,callback:function(a){e.$set(t.row,"propotion",a)},expression:"scope.row.propotion"}})]}}])})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[100!==e.totalPropotion&&0!==e.selusers.length?a("el-alert",{attrs:{title:"分润比例之和不为100%",type:"error",closable:!1,"show-icon":"",center:"",description:"所有人员的分润比例之和必须为100%"}}):e._e(),e._v(" "),0===e.selusers.length?a("el-alert",{attrs:{title:"无分润人员，请选择",type:"error",closable:!1,"show-icon":"",center:"",description:"制定分润方案前，请先选择分润人员"}}):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:0===this.selusers.length||100!==this.totalPropotion,loading:e.profitSharePlanLoading},on:{click:e.profitSharePlanSubmit}},[e._v("确定分润方案")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择分润人员",visible:e.addFormVisible,center:""},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","text-align":"left"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"一事通ID",size:"mini"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名",size:"mini"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"所属团队",size:"mini"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.getUsers}},[e._v("查询")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.users,stripe:"","highlight-current-row":"",height:"300"},on:{"selection-change":e.selUserchange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"一事通ID",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队",sortable:""}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:0===this.selusers.length},on:{click:e.batchSelectUser}},[e._v("确定选择")])],1)],1)],1)},staticRenderFns:[]};var G=a("VU/8")(B,M,!1,function(e){a("1vmS")},"data-v-61b416a0",null).exports,H=a("XLwt"),X=a.n(H),J={data:function(){return{chartColumn:null,chartBar:null,chartLine:null,chartPie:null}},methods:{drawColumnChart:function(){this.chartColumn=X.a.init(document.getElementById("chartColumn")),this.chartColumn.setOption({title:{text:"Column Chart"},tooltip:{},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]})},drawBarChart:function(){this.chartBar=X.a.init(document.getElementById("chartBar")),this.chartBar.setOption({title:{text:"Bar Chart",subtext:"数据来自网络"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["2011年","2012年"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:["巴西","印尼","美国","印度","中国","世界人口(万)"]},series:[{name:"2011年",type:"bar",data:[18203,23489,29034,104970,131744,630230]},{name:"2012年",type:"bar",data:[19325,23438,31e3,121594,134141,681807]}]})},drawLineChart:function(){this.chartLine=X.a.init(document.getElementById("chartLine")),this.chartLine.setOption({title:{text:"Line Chart"},tooltip:{trigger:"axis"},legend:{data:["邮件营销","联盟广告","搜索引擎"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"邮件营销",type:"line",stack:"总量",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"line",stack:"总量",data:[220,182,191,234,290,330,310]},{name:"搜索引擎",type:"line",stack:"总量",data:[820,932,901,934,1290,1330,1320]}]})},drawPieChart:function(){this.chartPie=X.a.init(document.getElementById("chartPie")),this.chartPie.setOption({title:{text:"Pie Chart",subtext:"纯属虚构",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},drawCharts:function(){this.drawColumnChart(),this.drawBarChart(),this.drawLineChart(),this.drawPieChart()}},mounted:function(){this.drawCharts()},updated:function(){this.drawCharts()}},W={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"chart-container"},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartColumn"}})]),this._v(" "),t("el-col",{attrs:{span:12}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartBar"}})]),this._v(" "),t("el-col",{attrs:{span:12}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartLine"}})]),this._v(" "),t("el-col",{attrs:{span:12}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartPie"}})]),this._v(" "),t("el-col",{attrs:{span:24}},[t("a",{staticStyle:{float:"right"},attrs:{href:"http://echarts.baidu.com/examples.html",target:"_blank"}},[this._v("more>>")])])],1)],1)},staticRenderFns:[]};var Y=a("VU/8")(J,W,!1,function(e){a("MPXo")},"data-v-1cf3ee52",null).exports,K={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("帮助内容!!!")])},staticRenderFns:[]},Q=a("VU/8")(null,K,!1,null,null,null).exports,Z={data:function(){return{filters:{name:""},users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},editForm:{id:"",name:"",role:"",team:""},addFormVisible:!1,addLoading:!1,addFormRules:{id:[{required:!0,message:"请输入一事通ID",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}],team:[{required:!0,message:"请选择所属团队",trigger:"blur"}]},addForm:{id:"",name:"",role:"",team:""},Roles:[{id:1,value:"系统管理员"},{id:2,value:"批发条线领导"},{id:3,value:"团队负责人"},{id:4,value:"客户经理"}],Teams:[{id:1,value:"机构客户一部"},{id:2,value:"机构客户二部"},{id:3,value:"机构客户三部"},{id:4,value:"机构客户四部"},{id:5,value:"机构客户五部"},{id:6,value:"机构客户六部"},{id:7,value:"机构客户七部"}]}},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getUsers()},getUsers:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,w(t).then(function(t){e.total=t.data.total,e.users=t.data.users,e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id};x(e).then(function(e){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.getUsers()})}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={id:"",name:"",role:"",team:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=_()({},e.editForm);t.birth=t.birth&&""!=t.birth?util.formatDate.format(new Date(t.birth),"yyyy-MM-dd"):"",k(t).then(function(t){e.editLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getUsers()})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=_()({},e.addForm);$(t).then(function(t){e.addLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getUsers()})})})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0,S({ids:t}).then(function(t){e.listLoading=!1,e.$message({message:"删除成功",type:"success"}),e.getUsers()})}).catch(function(){})}},mounted:function(){this.getUsers()}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","text-align":"left"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"角色"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getUsers}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){}}},[e._v("查询全部")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.users,stripe:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"一事通ID",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"role",label:"角色",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.$index,t.row)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchRemove}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"一事通ID",prop:"id"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.id,callback:function(t){e.$set(e.editForm,"id",t)},expression:"editForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.role,callback:function(t){e.$set(e.editForm,"role",t)},expression:"editForm.role"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属团队"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.team,callback:function(t){e.$set(e.editForm,"team",t)},expression:"editForm.team"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"100px",rules:e.addFormRules,size:"medium","label-position":"right"}},[a("el-form-item",{attrs:{label:"一事通ID",prop:"id"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.id,callback:function(t){e.$set(e.addForm,"id",t)},expression:"addForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"角色",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择角色",clearable:"",filterable:""},model:{value:e.addForm.role,callback:function(t){e.$set(e.addForm,"role",t)},expression:"addForm.role"}},e._l(e.Roles,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"所属团队",prop:"team"}},[a("el-select",{attrs:{placeholder:"请选择所属团队",clearable:"",filterable:""},model:{value:e.addForm.team,callback:function(t){e.$set(e.addForm,"team",t)},expression:"addForm.team"}},e._l(e.Teams,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var te={data:function(){return{filters:{name:""},users:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},editForm:{id:"",name:"",role:"",team:""},addFormVisible:!1,addLoading:!1,addFormRules:{id:[{required:!0,message:"请输入一事通ID",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}],team:[{required:!0,message:"请选择所属团队",trigger:"blur"}]},addForm:{id:"",name:"",role:"",team:""},Roles:[{id:1,value:"系统管理员"},{id:2,value:"批发条线领导"},{id:3,value:"团队负责人"},{id:4,value:"客户经理"}],Teams:[{id:1,value:"机构客户一部"},{id:2,value:"机构客户二部"},{id:3,value:"机构客户三部"},{id:4,value:"机构客户四部"},{id:5,value:"机构客户五部"},{id:6,value:"机构客户六部"},{id:7,value:"机构客户七部"}]}},methods:{formatSex:function(e,t){return 1==e.sex?"男":0==e.sex?"女":"未知"},handleCurrentChange:function(e){this.page=e,this.getUsers()},getUsers:function(){var e=this,t={page:this.page,name:this.filters.name};this.listLoading=!0,w(t).then(function(t){e.total=t.data.total,e.users=t.data.users,e.listLoading=!1})},handleDel:function(e,t){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var e={id:t.id};x(e).then(function(e){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.getUsers()})}).catch(function(){})},handleEdit:function(e,t){this.editFormVisible=!0,this.editForm=_()({},t)},handleAdd:function(){this.addFormVisible=!0,this.addForm={id:"",name:"",role:"",team:""}},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.editLoading=!0;var t=_()({},e.editForm);t.birth=t.birth&&""!=t.birth?util.formatDate.format(new Date(t.birth),"yyyy-MM-dd"):"",k(t).then(function(t){e.editLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.editForm.resetFields(),e.editFormVisible=!1,e.getUsers()})})})},addSubmit:function(){var e=this;this.$refs.addForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){e.addLoading=!0;var t=_()({},e.addForm);$(t).then(function(t){e.addLoading=!1,e.$message({message:"提交成功",type:"success"}),e.$refs.addForm.resetFields(),e.addFormVisible=!1,e.getUsers()})})})},selsChange:function(e){this.sels=e},batchRemove:function(){var e=this,t=this.sels.map(function(e){return e.id}).toString();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){e.listLoading=!0,S({ids:t}).then(function(t){e.listLoading=!1,e.$message({message:"删除成功",type:"success"}),e.getUsers()})}).catch(function(){})}},mounted:function(){this.getUsers()}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","text-align":"left"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0,model:e.filters}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"所属团队"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getUsers}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){}}},[e._v("查询全部")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.users,stripe:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"一事通ID",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"role",label:"角色",width:"200",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button-group",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.handleDel(t.$index,t.row)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-button",{attrs:{type:"danger",disabled:0===this.sels.length},on:{click:e.batchRemove}},[e._v("批量删除")]),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":20,total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑",visible:e.editFormVisible},on:{"update:visible":function(t){e.editFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[a("el-form-item",{attrs:{label:"一事通ID",prop:"id"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.id,callback:function(t){e.$set(e.editForm,"id",t)},expression:"editForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.role,callback:function(t){e.$set(e.editForm,"role",t)},expression:"editForm.role"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属团队"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.team,callback:function(t){e.$set(e.editForm,"team",t)},expression:"editForm.team"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){return e.editSubmit(t)}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.addFormVisible},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"100px",rules:e.addFormRules,size:"medium","label-position":"right"}},[a("el-form-item",{attrs:{label:"一事通ID",prop:"id"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.id,callback:function(t){e.$set(e.addForm,"id",t)},expression:"addForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"角色",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择角色",clearable:"",filterable:""},model:{value:e.addForm.role,callback:function(t){e.$set(e.addForm,"role",t)},expression:"addForm.role"}},e._l(e.Roles,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"所属团队",prop:"team"}},[a("el-select",{attrs:{placeholder:"请选择所属团队",clearable:"",filterable:""},model:{value:e.addForm.team,callback:function(t){e.$set(e.addForm,"team",t)},expression:"addForm.team"}},e._l(e.Teams,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.addLoading},nativeOn:{click:function(t){return e.addSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var ie={data:function(){return{searchForm:{custname:"",team:"",name:""},profitShareResult:[],profitShareResultHandled:[],pageInfo:{page:1,pageSize:20,total:0},profitShareResultLoading:!1}},methods:{searchPlan:function(){},getProfitShareResult:function(){var e=this,t={pageinfo:this.pageInfo,searchform:this.searchForm};this.profitShareResultLoading=!0,L(t).then(function(t){e.profitShareResultLoading=!1,e.pageInfo.total=t.data.total,e.profitShareResult=t.data.profitShareResult,console.log("this.pageInfo.total:",e.pageInfo.total),console.log("this.profitShareResult:",e.profitShareResult)})},Headerstyle:function(e){e.row,e.rowIndex;return"table-header"},handleCurrentChange:function(e){this.pageInfo.page=e,this.getProfitShareResult()}},mounted:function(){this.getProfitShareResult()}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"客户",size:"small"},model:{value:e.searchForm.custname,callback:function(t){e.$set(e.searchForm,"custname",t)},expression:"searchForm.custname"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"团队",size:"small"},model:{value:e.searchForm.team,callback:function(t){e.$set(e.searchForm,"team",t)},expression:"searchForm.team"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"分润人员",size:"small"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.searchPlan}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.profitShareResultLoading,expression:"profitShareResultLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.profitShareResult,stripe:"",height:"530"}},[a("el-table-column",{attrs:{prop:"cust.custname",label:"客户名称","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"cust.bankname",label:"开户行","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"cust.custtype",label:"客户类型","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"分润结果",type:"expand",width:"380"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{attrs:{data:t.row.plan}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队"}}),e._v(" "),a("el-table-column",{attrs:{prop:"propotion",label:"分润比例(%)"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"}})],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","page-size":e.pageInfo.pageSize,total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var oe=/([yMdhsm])(\1*)/g;function le(e,t){t-=(e+"").length;for(var a=0;a<t;a++)e="0"+e;return e}var re={format:function(e,t){return(t=t||"yyyy-MM-dd").replace(oe,function(t){switch(t.charAt(0)){case"y":return le(e.getFullYear(),t.length);case"M":return le(e.getMonth()+1,t.length);case"d":return le(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return le(e.getHours(),t.length);case"m":return le(e.getMinutes(),t.length);case"s":return le(e.getSeconds(),t.length)}})},parse:function(e,t){var a=t.match(oe),i=e.match(/(\d)+/g);if(a.length==i.length){for(var n=new Date(1970,0,1),o=0;o<a.length;o++){var l=parseInt(i[o]);switch(a[o].charAt(0)){case"y":n.setFullYear(l);break;case"M":n.setMonth(l-1);break;case"d":n.setDate(l);break;case"h":n.setHours(l);break;case"m":n.setMinutes(l);break;case"s":n.setSeconds(l)}}return n}return null}},se={data:function(){return{searchForm:{custname:"",team:"",name:""},profitShareResult:[],profitShareResultHandled:[],pageInfo:{page:1,pageSize:20,total:0},profitShareResultLoading:!1,sels:[],editDialogVisible:!1,tmpProfitPlan:[],editLoading:!1,totalPropotion:0,currentRow:{}}},methods:{showprops:function(e){console.log("props:",e)},searchPlan:function(){},getProfitShareResult:function(){var e=this,t={pageinfo:this.pageInfo,searchform:this.searchForm};this.profitShareResultLoading=!0,L(t).then(function(t){e.profitShareResultLoading=!1,e.pageInfo.total=t.data.total,e.profitShareResult=t.data.profitShareResult,console.log("this.pageInfo.total:",e.pageInfo.total),console.log("this.profitShareResult:",e.profitShareResult)})},Headerstyle:function(e){e.row,e.rowIndex;return"table-header"},handleCurrentChange:function(e){this.pageInfo.page=e,this.getProfitShareResult()},batchApprove:function(){},batchReject:function(){},selsChange:function(e){this.sels=e,console.log("this.sels:",this.sels)},handleEdit:function(e){console.log("props:",e),this.currentRow=e.row,this.tmpProfitPlan=e.row.plan,this.totalPropotion=0;for(var t=0;t<this.tmpProfitPlan.length;t++)this.totalPropotion+=this.tmpProfitPlan[t].propotion;console.log("this.tmpProfitPlan:",this.tmpProfitPlan),this.editDialogVisible=!0},handleApprove:function(e){var t=this;this.currentRow=e.row,this.tmpProfitPlan=e.row.plan,this.$confirm("确认通过?","分润方案审批",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.currentRow.plan=t.tmpProfitPlan,t.currentRow.approved=!0;var e={code:200,message:"编辑成功",data:t.currentRow};P(e).then(function(e){console.log("resp:",e),t.$message({message:"审批通过成功",type:"success"}),t.getProfitShareResult()})}).catch(function(){t.$message({type:"info",message:"已取消！"})})},handleReject:function(e){var t=this;this.currentRow=e.row,this.tmpProfitPlan=e.row.plan,this.$confirm("确认驳回?","分润方案审批",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.currentRow.plan=t.tmpProfitPlan,t.currentRow.rejected=!0;var e={code:200,message:"编辑成功",data:t.currentRow};P(e).then(function(e){console.log("resp:",e),t.$message({message:"审批驳回成功",type:"success"}),t.getProfitShareResult()})}).catch(function(){t.$message({type:"info",message:"已取消！"})})},editProfitSubmit:function(){var e=this;this.editLoading=!0,console.log("this.currentRow:",this.currentRow),this.currentRow.plan=this.tmpProfitPlan;var t={code:200,message:"编辑成功",data:this.currentRow};P(t).then(function(t){e.editLoading=!1,console.log("resp:",t),e.$message({message:"分润方案编辑成功",type:"success"}),e.editDialogVisible=!1,e.getProfitShareResult()})},handlePropotionChange:function(e){console.log("value:",e),this.totalPropotion=0;for(var t=0;t<this.tmpProfitPlan.length;t++)this.totalPropotion+=this.tmpProfitPlan[t].propotion;console.log("this.totalPropotion:",this.totalPropotion)},downloadProfitShareResult:function(){var e=this;this.$confirm("确认导出分润结果吗？","提示",{}).then(function(){console.log("this.profitShareResult:",e.profitShareResult);for(var t=[],a=0;a<e.profitShareResult.length;a++)for(var i=0;i<e.profitShareResult[a].plan.length;i++){var n={};n["开户行号"]=e.profitShareResult[a].cust.bankid,n["开户行名称"]=e.profitShareResult[a].cust.bankname,n["客户号"]=e.profitShareResult[a].cust.custid,n["客户名称"]=e.profitShareResult[a].cust.custname,n["客户类型"]=e.profitShareResult[a].cust.custtype,n["营业净收入"]=e.profitShareResult[a].cust.custnetincome,n["归户团队"]=e.profitShareResult[a].cust.team,n["员工号"]=e.profitShareResult[a].plan[i].id,n["员工姓名"]=e.profitShareResult[a].plan[i].name,n["分润比例"]=e.profitShareResult[a].plan[i].propotion,n["所属团队"]=e.profitShareResult[a].plan[i].team,t.push(n)}console.log("tempResult:",t);var o={SheetNames:["分润结果"],Sheets:{},Props:{}};o.Sheets["分润结果"]=q.a.utils.json_to_sheet(t),console.log("workbook:",o);var l="分润结果_"+re.format(new Date,"yyyy-MM-dd")+".xlsx",r=q.a.write(o,{bookType:"xlsx",bookSST:!0,type:"array"});try{T.a.saveAs(new Blob([r],{type:"application/octet-stream"}),l)}catch(e){"undefined"!=typeof console&&console.log(e,r)}return r})}},mounted:function(){this.getProfitShareResult()},computed:{allapproved:function(){for(var e=0;e<this.profitShareResult.length;e++){var t=this.profitShareResult[e];if(!t.approved&&!t.rejected)return!1}return!0}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{margin:"auto 0px"},attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"客户",size:"small"},model:{value:e.searchForm.custname,callback:function(t){e.$set(e.searchForm,"custname",t)},expression:"searchForm.custname"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"团队",size:"small"},model:{value:e.searchForm.team,callback:function(t){e.$set(e.searchForm,"team",t)},expression:"searchForm.team"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"分润人员",size:"small"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("el-form-item",[a("el-button-group",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.searchPlan}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download",disabled:!e.allapproved},on:{click:e.downloadProfitShareResult}},[e._v("下载分润结果")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.profitShareResultLoading,expression:"profitShareResultLoading"}],staticStyle:{width:"100%","text-align":"left"},attrs:{data:e.profitShareResult,stripe:"",height:"530"},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{prop:"cust.custname",label:"客户名称","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"cust.bankname",label:"开户行","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"cust.custtype",label:"客户类型","min-width":"180",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"180",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.approved?a("el-tag",{attrs:{type:"success"}},[e._v("已通过")]):e._e(),e._v(" "),t.row.approved||t.row.rejected?e._e():a("el-tag",{attrs:{type:"warning"}},[e._v("待审批")]),e._v(" "),t.row.rejected?a("el-tag",{attrs:{type:"danger"}},[e._v("已驳回")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"分润结果",type:"expand",width:"380"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{attrs:{data:t.row.plan}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队"}}),e._v(" "),a("el-table-column",{attrs:{prop:"propotion",label:"分润比例(%)"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"}})],1),e._v(" "),a("el-col",{staticStyle:{"padding-top":"5px"},attrs:{span:24}},[a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-success",type:"success",size:"small",disabled:t.row.approved||t.row.rejected},on:{click:function(a){e.handleApprove(t)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"small",disabled:t.row.approved||t.row.rejected},on:{click:function(a){e.handleEdit(t)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-error",type:"danger",size:"small",disabled:t.row.approved||t.row.rejected},on:{click:function(a){e.handleReject(t)}}},[e._v("驳回")])],1)],1)]}}])})],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"text-align":"left"},attrs:{span:24}},[a("el-pagination",{staticStyle:{float:"right",padding:"2px 0px"},attrs:{layout:"prev, pager, next","page-size":e.pageInfo.pageSize,total:e.pageInfo.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{staticStyle:{width:"100%","text-align":"left"},attrs:{title:"修改分润信息",visible:e.editDialogVisible},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-table",{attrs:{data:e.tmpProfitPlan,height:"300"}},[a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team",label:"所属团队"}}),e._v(" "),a("el-table-column",{attrs:{prop:"propotion",label:"分润比例(%)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{min:1,max:100,step:1,label:"分润比例",size:"mini"},on:{change:function(a){e.handlePropotionChange(t)}},model:{value:t.row.propotion,callback:function(a){e.$set(t.row,"propotion",a)},expression:"scope.row.propotion"}})]}}])})],1),e._v(" "),100!==e.totalPropotion&&0!==e.tmpProfitPlan.length?a("el-alert",{attrs:{title:"分润比例之和不为100%",type:"error",closable:!1,"show-icon":"",center:"",description:"所有人员的分润比例之和必须为100%"}}):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){e.editDialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.editLoading,icon:"el-icon-success"},nativeOn:{click:function(t){return e.editProfitSubmit(t)}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var ue=[{path:"/",component:u,name:"",hidden:!0,menuShow:!1},{path:"/main",name:"主页",component:v,children:[{path:"/sysmanage",component:O,name:"系统管理",hidden:!1,meta:{leaf:!1},menuShow:!0,iconCls:"el-icon-menu",children:[{path:"/empadmin",component:U,name:"人员管理",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"},{path:"/roleadmin",component:a("VU/8")(Z,ee,!1,function(e){a("f5jY")},"data-v-5b2bab1c",null).exports,name:"角色管理",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"},{path:"/teamadmin",component:a("VU/8")(te,ae,!1,function(e){a("W7bq")},"data-v-7e78f6e6",null).exports,name:"团队管理",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"}]},{path:"/custmanage",component:O,name:"归户管理",hidden:!1,meta:{leaf:!1},menuShow:!0,iconCls:"el-icon-menu",children:[{path:"/custadmin",component:N,name:"客户归户管理",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"}]},{path:"/profitmanage",component:O,name:"分润管理",hidden:!1,meta:{leaf:!1},menuShow:!0,iconCls:"el-icon-menu",children:[{path:"/profitadmin",component:G,name:"制定分润方案",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"},{path:"/profitsharesearch",component:a("VU/8")(ie,ne,!1,function(e){a("1Hn/")},"data-v-655da57a",null).exports,name:"查看分润方案",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"},{path:"/profitshareapprove",component:a("VU/8")(se,ce,!1,function(e){a("OKCe")},"data-v-1e3e7cbe",null).exports,name:"审批分润方案",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"}]},{path:"/visualization",component:O,name:"数据展示",hidden:!1,meta:{leaf:!1},menuShow:!0,iconCls:"el-icon-picture",children:[{path:"/visualadmin",component:Y,name:"统计展示",hidden:!1,meta:{},leaf:!0,menuShow:!0,iconCls:"el-icon-edit"}]},{path:"/help",component:Q,name:"帮助",hidden:!1,meta:{leaf:!0},menuShow:!0,iconCls:"el-icon-bell"}]}];i.default.use(l.a);for(var de=new l.a({mode:"history",routes:ue}),me=a("zL8q"),pe=a.n(me),fe=(a("tvR6"),a("pFYg")),he=a.n(fe),ge=a("mvHQ"),ve=a.n(ge),be=a("//Fk"),_e=a.n(be),ye=a("KorX"),Fe=a.n(ye),we=a("zNUS"),xe=a.n(we),Se=[{id:1,username:"admin",password:"123456",avatar:m.a,name:"张某某"}],ke=[],$e=0;$e<100;$e++)ke.push(xe.a.mock({id:xe.a.Random.string("number",6,6),name:xe.a.Random.cname(),role:xe.a.Random.pick(["系统管理员","批发条线领导","团队负责人","客户经理"]),team:xe.a.Random.pick(["机构客户一部","机构客户二部","机构客户三部","机构客户四部","机构客户五部","机构客户六部","机构客户七部"])}));for(var Ce=[],Re=0;Re<100;Re++)Ce.push(xe.a.mock({bankid:xe.a.Random.string("number",6,6),bankname:xe.a.Random.pick(["西站支行","七里河支行","东口支行","中央广场支行","中山路支行"]),custid:xe.a.Random.string("number",6,6),custname:xe.a.Random.cname()+"股份有限公司",custtype:xe.a.Random.pick(["存量非信贷及项目类","存量信贷及项目类","新客户"]),custnetincome:xe.a.Random.float(1e4,2e5,2,2),team:"",allocated:!1,profitdistributed:!1}));var Le=ke,Pe=[{id:1,value:"系统管理员"},{id:2,value:"批发条线领导"},{id:3,value:"团队负责人"},{id:4,value:"客户经理"}],Ve=Ce,De=[],Ue={bootstrap:function(){var e=new Fe.a(F.a);e.onGet("/success").reply(200,{msg:"success"}),e.onGet("/error").reply(500,{msg:"failure"}),e.onPost("/login").reply(function(e){var t=JSON.parse(e.data),a=t.username,i=t.password;return new _e.a(function(e,t){var n=null;setTimeout(function(){var t=Se.some(function(e){if(e.username===a&&e.password===i)return(n=JSON.parse(ve()(e))).password=void 0,!0});e(t?[200,{code:200,msg:"请求成功",user:n}]:[200,{code:500,msg:"账号或密码错误"}])},1e3)})}),e.onGet("/user/list").reply(function(e){var t=e.params.name,a=Le.filter(function(e){return!t||-1!=e.name.indexOf(t)});return new _e.a(function(e,t){setTimeout(function(){e([200,{users:a}])},1e3)})}),e.onGet("/user/listpage").reply(function(e){var t=e.params,a=t.page,i=t.name,n=Le.filter(function(e){return!i||-1!=e.name.indexOf(i)}),o=n.length;return n=n.filter(function(e,t){return t<20*a&&t>=20*(a-1)}),new _e.a(function(e,t){setTimeout(function(){e([200,{total:o,users:n}])},1e3)})}),e.onGet("/user/remove").reply(function(e){var t=e.params.id;return Le=Le.filter(function(e){return e.id!==t}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"删除成功"}])},500)})}),e.onGet("/user/batchremove").reply(function(e){var t=e.params.ids;return t=t.split(","),Le=Le.filter(function(e){return!t.includes(e.id)}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"删除成功"}])},500)})}),e.onGet("/user/edit").reply(function(e){var t=e.params,a=t.id,i=t.name,n=t.addr,o=t.age,l=t.birth,r=t.sex;return Le.some(function(e){if(e.id===a)return e.name=i,e.addr=n,e.age=o,e.birth=l,e.sex=r,!0}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"编辑成功"}])},500)})}),e.onGet("/user/add").reply(function(e){var t=e.params,a=t.id,i=t.name,n=t.role,o=t.team;return Le.push({id:a,name:i,role:n,team:o}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"新增成功"}])},500)})}),e.onGet("/role/list").reply(function(e){var t=e.params.name,a=Pe.filter(function(e){return!t||-1!=e.name.indexOf(t)});return new _e.a(function(e,t){setTimeout(function(){e([200,{users:a}])},1e3)})}),e.onGet("/role/listpage").reply(function(e){var t=e.params,a=t.page,i=t.name,n=Pe.filter(function(e){return!i||-1!=e.name.indexOf(i)}),o=n.length;return n=n.filter(function(e,t){return t<20*a&&t>=20*(a-1)}),new _e.a(function(e,t){setTimeout(function(){e([200,{total:o,users:n}])},1e3)})}),e.onGet("/role/remove").reply(function(e){var t=e.params.id;return Pe=Pe.filter(function(e){return e.id!==t}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"删除成功"}])},500)})}),e.onGet("/role/batchremove").reply(function(e){var t=e.params.ids;return t=t.split(","),Pe=Pe.filter(function(e){return!t.includes(e.id)}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"删除成功"}])},500)})}),e.onGet("/role/edit").reply(function(e){var t=e.params,a=t.id,i=t.name,n=t.addr,o=t.age,l=t.birth,r=t.sex;return Pe.some(function(e){if(e.id===a)return e.name=i,e.addr=n,e.age=o,e.birth=l,e.sex=r,!0}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"编辑成功"}])},500)})}),e.onGet("/role/add").reply(function(e){var t=e.params,a=t.id,i=t.name,n=t.role,o=t.team;return Pe.push({id:a,name:i,role:n,team:o}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"新增成功"}])},500)})}),e.onGet("/cust/listpage").reply(function(e){var t=e.params,a=t.page,i=t.name,n=Ve.filter(function(e){return!i||-1!=e.name.indexOf(i)}),o=n.length;return n=n.filter(function(e,t){return t<20*a&&t>=20*(a-1)}),new _e.a(function(e,t){setTimeout(function(){e([200,{total:o,custs:n}])},1e3)})}),e.onGet("/cust/edit").reply(function(e){var t=e.params,a=t.bankid,i=(t.bankname,t.custid),n=(t.custname,t.custtype,t.custnetincome,t.team),o=t.allocated,l=t.profitdistributed;return console.log("config.params:",e.params),Ve.some(function(e){if(e.bankid===a&&e.custid===i)return e.team=n,e.allocated=o,e.profitdistributed=l,!0}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"编辑成功"}])},500)})}),e.onGet("/cust/remove").reply(function(e){var t=e.params,a=t.bankid,i=t.custid;return Ve=Ve.filter(function(e){return e.bankid!==a&&e.custid!==i}),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"删除成功"}])},500)})}),e.onPost("/cust/add").reply(function(e){console.log("config:",e);he()(e.data);var t=JSON.parse(e.data);if(console.log("param:",t),"[object Array]"===Object.prototype.toString.call(t)){console.log("参数是数组");for(var a=0;a<t.length;a++)Ve.push({bankid:t[a].bankid,bankname:t[a].bankname,custid:t[a].custid,custname:t[a].custname,custtype:t[a].custtype,custnetincome:t[a].custnetincome,team:"",allocated:!1,profitdistributed:!1})}else console.log("参数是对象"),Ve.push({bankid:t.bankid,bankname:t.bankname,custid:t.custid,custname:t.custname,custtype:t.custtype,custnetincome:t.custnetincome,team:"",allocated:!1,profitdistributed:!1});return new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"新增成功"}])},500)})}),e.onPost("/profitshareresult/add").reply(function(e){console.log("config.data:",JSON.parse(e.data));for(var t=JSON.parse(e.data),a=0;a<t.plan.length;a++)t.approved=!1,t.rejected=!1;return De.push(t),console.log("_ProfitShareResult:",De),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"新增成功"}])},500)})}),e.onGet("/profitshareresult/list").reply(function(e){var t=e.params,a=t.pageinfo,i=t.searchform;console.log("pageinfo:",a,"searchform:",i);var n=De.filter(function(e){return!i.custname||-1!=e.cust.custname.indexOf(i.custname)});console.log("mockProfitShareResult:",n);var o=n.length,l=a.pageSize,r=a.page;return console.log("pagesize:",l,"page:",r),n=n.filter(function(e,t){return t<l*r&&t>=l*(r-1)}),console.log("mockProfitShareResult:",n),console.log("_ProfitShareResult",De),new _e.a(function(e,t){setTimeout(function(){e([200,{total:o,profitShareResult:n}])},1e3)})}),e.onPost("/profitshareresult/edit").reply(function(e){var t=JSON.parse(e.data);console.log("config.data:",t),console.log("修改前_ProfitShareResult:",De);for(var a=0;a<De.length;a++)De[a].cust.bankid===t.data.cust.bankid&&De[a].cust.custid===t.data.cust.custid&&(De[a]=t.data);return console.log("修改后_ProfitShareResult:",De),new _e.a(function(e,t){setTimeout(function(){e([200,{code:200,msg:"编辑成功"}])},500)})})}};i.default.config.productionTip=!1,i.default.use(pe.a),Ue.bootstrap(),new i.default({el:"#app",router:de,components:{App:o},template:"<App/>"})},OKCe:function(e,t){},"T+nX":function(e,t,a){e.exports=a.p+"static/img/admin.824d1f1.png"},Ugm9:function(e,t){},VGaS:function(e,t){},W7bq:function(e,t){},f5jY:function(e,t){},noRn:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.1a9a61e437e95dd49671.js.map